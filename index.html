<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Krazy Kathy's Karaoke</title>
  <style>
    body { font-family: Arial, sans-serif; background: #000; color: white; text-align: center; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #fff; padding: 10px; }
    th { background: #333; }
    tr:nth-child(even) { background: #222; }
    input[type="text"] { padding: 10px; font-size: 16px; width: 50%; }
    .header { background: #ff1493; padding: 20px; display: flex; justify-content: space-between; align-items: center; }
    .suggestions { margin-top: 10px; font-size: 16px; color: #ff0; }
    #logo { height: 40px; }
    .suggest-label { font-weight: bold; color: #f0f; }
  </style>
</head>
<body>
  <div class="header">
    <img id="logo" src="https://thyskaraoke.com.au/logo.png" alt="Logo"/>
    <input type="text" id="searchInput" placeholder="Search...">
    <a href="#" style="color: yellow; font-weight: bold;">Hire Us!</a>
  </div>

  <div class="suggestions" id="suggestions"></div>

  <table id="karaokeTable">
    <thead>
      <tr>
        <th>#</th>
        <th>Song</th>
        <th>Artist</th>
      </tr>
    </thead>
    <tbody>
      <!-- This list can be dynamically generated or updated -->
      <tr><td>1</td><td>Do Wah Diddy</td><td>2 Live Crew</td></tr>
      <tr><td>2</td><td>We Want Some Pussy</td><td>2 Live Crew</td></tr>
      <tr><td>3</td><td>No Limit</td><td>2 Unlimited</td></tr>
      <tr><td>4</td><td>California Love</td><td>2pac</td></tr>
      <tr><td>5</td><td>Be Like That</td><td>3 Doors Down</td></tr>
      <tr><td>6</td><td>Kryptonite</td><td>3 Doors Down</td></tr>
      <tr><td>7</td><td>Kryptonite</td><td>3 Doors Down</td></tr>
      <tr><td>8</td><td>When Im Gone</td><td>3 Doors Down</td></tr>
      <tr><td>9</td><td>Dont Trust Me</td><td>3oh3</td></tr>
      <tr><td>10</td><td>Youre Gonna Love This</td><td>3oh3</td></tr>
      <tr><td>11</td><td>Starstrukk</td><td>3oh3 & Katy Perry</td></tr>
      <tr><td>12</td><td>Starstrukk</td><td>3oh3 & Katy Perry</td></tr>
      <tr><td>13</td><td>My First Kiss</td><td>3oh3 & Kesha</td></tr>
      <tr><td>14</td><td>My First Kiss</td><td>3oh3 & Kesha</td></tr>
      <tr><td>15</td><td>Sukiyaki</td><td>4 am (Four am)</td></tr>
      <tr><td>16</td><td>Whats Up</td><td>4 Non Blondes</td></tr>
      <tr><td>17</td><td>Whats Up</td><td>4 Non Blondes</td></tr>
      <tr><td>18</td><td>Amnesia</td><td>5 Seconds Of Summer</td></tr>
      <tr><td>19</td><td>Fly Away</td><td>5 Seconds Of Summer</td></tr>
    </tbody>
  </table>

  <script>
    const input = document.getElementById("searchInput");
    const table = document.getElementById("karaokeTable").getElementsByTagName("tbody")[0];
    const suggestionsDiv = document.getElementById("suggestions");

    const rows = Array.from(table.getElementsByTagName("tr"));

    function fuzzyMatch(term, list) {
      term = term.toLowerCase();
      let scores = list.map(item => ({
        item: item,
        score: levenshteinDistance(term, item.toLowerCase())
      }));
      scores.sort((a, b) => a.score - b.score);
      return scores[0].score <= 3 ? scores[0].item : null;
    }

    function levenshteinDistance(a, b) {
      const dp = Array(a.length + 1).fill(null).map(() =>
        Array(b.length + 1).fill(0)
      );
      for (let i = 0; i <= a.length; i++) dp[i][0] = i;
      for (let j = 0; j <= b.length; j++) dp[0][j] = j;

      for (let i = 1; i <= a.length; i++) {
        for (let j = 1; j <= b.length; j++) {
          const cost = a[i - 1] === b[j - 1] ? 0 : 1;
          dp[i][j] = Math.min(
            dp[i - 1][j] + 1,
            dp[i][j - 1] + 1,
            dp[i - 1][j - 1] + cost
          );
        }
      }
      return dp[a.length][b.length];
    }

    input.addEventListener("input", function () {
      const filter = input.value.trim().toLowerCase();
      if (!filter) {
        rows.forEach(row => row.style.display = "");
        suggestionsDiv.innerHTML = "";
        return;
      }

      let songNames = rows.map(row => row.cells[1].textContent);
      let artistNames = rows.map(row => row.cells[2].textContent);

      let songMatch = fuzzyMatch(filter, songNames);
      let artistMatch = fuzzyMatch(filter, artistNames);

      let didYouMean = (songMatch && songMatch.toLowerCase() !== filter) ? songMatch : "";

      suggestionsDiv.innerHTML = "";
      if (didYouMean) {
        suggestionsDiv.innerHTML += `<div><span class="suggest-label">Did you mean?</span> ${didYouMean}</div>`;
        suggestionsDiv.innerHTML += `<div><span class="suggest-label">Song match:</span> ${songMatch}</div>`;
        suggestionsDiv.innerHTML += `<div><span class="suggest-label">Artist match:</span> ${artistMatch}</div>`;
      }

      rows.forEach(row => {
        const song = row.cells[1].textContent.toLowerCase();
        const artist = row.cells[2].textContent.toLowerCase();
        row.style.display = (song.includes(filter) || artist.includes(filter)) ? "" : "none";
      });
    });
  </script>
</body>
</html>
